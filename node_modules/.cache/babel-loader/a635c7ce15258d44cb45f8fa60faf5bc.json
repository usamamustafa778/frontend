{"ast":null,"code":"var _jsxFileName = \"/Users/usamabhatti/Documents/amazona/frontend/src/screens/HomeScreen.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useReducer } from 'react';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport { Carousel } from 'react-responsive-carousel';\nimport axios from 'axios';\nimport logger from 'use-reducer-logger';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state,\n        loading: true\n      };\n\n    case 'FETCH_SUCCESS':\n      return { ...state,\n        products: action.payload,\n        loading: false\n      };\n\n    case 'FETCH_FAIL':\n      return { ...state,\n        error: action.payload,\n        loading: false\n      };\n\n    case 'FETCH_SELLER_REQUEST':\n      return { ...state,\n        loadingSellers: true\n      };\n\n    case 'FETCH_SELLER_SUCCESS':\n      return { ...state,\n        sellers: action.payload,\n        loadingSellers: false\n      };\n\n    case 'FETCH_SELLER_FAIL':\n      return { ...state,\n        error: action.payload,\n        loadingSellers: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst HomeScreen = () => {\n  _s();\n\n  const [{\n    loading,\n    error,\n    products,\n    loadingSellers,\n    sellers\n  }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    sellers: [],\n    loading: true,\n    error: ''\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        dispatch({\n          type: 'FETCH_REQUEST'\n        });\n        const result = await axios.get('/api/products');\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: result.data\n        });\n        dispatch({\n          type: 'FETCH_SELLER_REQUEST'\n        });\n        const sellers = await axios.get('/api/users/top-sellers');\n        dispatch({\n          type: 'FETCH_SELLER_SUCCESS',\n          payload: sellers.data\n        });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n          payload: err.message\n        });\n        dispatch({\n          type: 'FETCH_SELLER_FAIL',\n          payload: err.message\n        });\n      }\n    };\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Amazona\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Top Sellers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), loadingSellers ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [sellers.length === 0 && /*#__PURE__*/_jsxDEV(MessageBox, {\n        children: \"No Seller Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 46\n      }, this), /*#__PURE__*/_jsxDEV(Carousel, {\n        showArrows: true,\n        autoPlay: true,\n        showThumbs: false,\n        children: sellers.map(seller => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/seller/${seller._id}`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: seller.seller.logo,\n              alt: seller.seller.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"legend\",\n              children: seller.seller.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this)\n        }, seller._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Featured Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Row, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HomeScreen, \"QlAhK8xYkZNQQHg+p2ukXj7OEMg=\");\n\n_c = HomeScreen;\nexport default HomeScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeScreen\");","map":{"version":3,"names":["useEffect","useReducer","Carousel","axios","logger","Row","Col","Product","Helmet","LoadingBox","MessageBox","Link","reducer","state","action","type","loading","products","payload","error","loadingSellers","sellers","HomeScreen","dispatch","fetchData","result","get","data","err","message","length","map","seller","_id","logo","name"],"sources":["/Users/usamabhatti/Documents/amazona/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import { useEffect, useReducer } from 'react';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport { Carousel } from 'react-responsive-carousel';\nimport axios from 'axios';\nimport logger from 'use-reducer-logger';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Product from '../components/Product';\nimport { Helmet } from 'react-helmet-async';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { Link } from 'react-router-dom';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case 'FETCH_REQUEST':\n            return { ...state, loading: true };\n        case 'FETCH_SUCCESS':\n            return { ...state, products: action.payload, loading: false };\n        case 'FETCH_FAIL':\n            return { ...state, error: action.payload, loading: false };\n        case 'FETCH_SELLER_REQUEST':\n            return { ...state, loadingSellers: true };\n        case 'FETCH_SELLER_SUCCESS':\n            return { ...state, sellers: action.payload, loadingSellers: false };\n        case 'FETCH_SELLER_FAIL':\n            return { ...state, error: action.payload, loadingSellers: false };\n\n        default:\n            return state;\n    }\n};\n\nconst HomeScreen = () => {\n    const [{ loading, error, products, loadingSellers, sellers }, dispatch] = useReducer(logger(reducer), {\n        products: [],\n        sellers: [],\n        loading: true,\n        error: '',\n    });\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                dispatch({ type: 'FETCH_REQUEST' });\n                const result = await axios.get('/api/products');\n                dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n\n                dispatch({ type: 'FETCH_SELLER_REQUEST' });\n                const sellers = await axios.get('/api/users/top-sellers');\n                dispatch({ type: 'FETCH_SELLER_SUCCESS', payload: sellers.data });\n            } catch (err) {\n                dispatch({ type: 'FETCH_FAIL', payload: err.message });\n                dispatch({ type: 'FETCH_SELLER_FAIL', payload: err.message });\n            }\n        };\n        fetchData();\n    }, []);\n\n    return (\n        <div>\n            <Helmet>\n                <title>Amazona</title>\n            </Helmet>\n            <h1>Top Sellers</h1>\n            {loadingSellers ? (\n                <LoadingBox></LoadingBox>\n            ) : error ? (\n                <MessageBox variant=\"danger\">{error}</MessageBox>\n            ) : (\n                <>\n                    {sellers.length === 0 && <MessageBox>No Seller Found</MessageBox>}\n                    <Carousel showArrows autoPlay showThumbs={false}>\n                        {sellers.map((seller) => (\n                            <div key={seller._id}>\n                                <Link to={`/seller/${seller._id}`}>\n                                    <img src={seller.seller.logo} alt={seller.seller.name} />\n                                    <p className=\"legend\">{seller.seller.name}</p>\n                                </Link>\n                            </div>\n                        ))}\n                    </Carousel>\n                </>\n            )}\n            <h1>Featured Products</h1>\n            <div className=\"products\">\n                {loading ? (\n                    <LoadingBox />\n                ) : error ? (\n                    <MessageBox variant=\"danger\">{error}</MessageBox>\n                ) : (\n                    <Row>\n                        {/* {products.map((product) => (\n                            <Col xs={6} md={4} lg={3} key={product.slug} className=\"mb-3\">\n                                <Product product={product} />\n                            </Col>\n                        ))} */}\n                    </Row>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default HomeScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}